# 4장 추상화 설계

- [아이템 26: 함수 내부의 추상화 레벨을 통일하나](item26.md)
- [아이템 27: 변화로부터 코드를 보호하려면 추상화를 사용하라](item27.md)
- [아이템 28: API 안정성을 확인하라](item28.md)
- [아이템 29: 외부 API를 랩(wrap)해서 사용하라](item29.md)

추상화는 프로그래밍 세계에서 가장 중요한 개념 중 하나다.
- OOP의 세가지 주요개념: 추상화, 캡슐화, 상속
FP 에서는 프로그래밍을 '추상화와 컴포지션'으로 이루어지는 것이라고도 한다.

> 컴퓨터 과학에서 추상화는 복잡한 자료, 모듈, 시스템 등으로부터 핵심적인 개념 또는 기능을 간추려내는 것을 말한다.  
> -- 위키피디아

-> 추상화는 복잡성을 숨기기 위해 사용되는 단순한 형식  

인터페이스는 클래스의 추상화라고 할 수 있다.  
객체의 추상화는 여러가지가 나올 수 있다.  
무엇을 감추고 무엇을 노출해야 하는지 결정해야한다.

## 프로그래밍에서의 추상화

프로그래밍에서의 모든 것은 추상화되어 있다.  
추상화를 설계한다는 것은 모듈 분리한다는 의미가 아니다.  
함수의 구현을 시그니처 뒤에 숨기는 것이 추상화다.

```kotlin
val biggest = maxOf(x, y)
val biggest = if (x > y) x else y
```
같은 표현이지만 직접 계산하는 방식은 추상적인 것을 표현하는 추상화 능력이 떨어진다.

```java
List<String> names = new ArrayList<>();
for (User user : users) {
    names.add(user.getName())
}
```
코틀린은 java8의 이 코드를 간단하게 표현할 수 있다.
```kotlin
val names = users.map { it.name }
```

강력한 프로그래밍 언어들이 갖고 있는 기능 중 하나는 공통 패턴에 이름을 붙여서 추상화를 만드는 기능이다.  
추상화는 언어가 표현할 수 있는 표현에 따라서도 조금씩 달라질 수 있다.
```kotlin
// 코틀린에서만 가능
val connection by lazy { makeConnection() }
```

## 추상화와 자동차
자동차는 조종하는 인터페이스(핸들과 페달)를 사용하는 방법만 알면 된다.  
엔진, 서스펜션등의 자동차 요소를 하나하나 조종하지 않아도 된다.  
추상화는 이처럼 내부적으로 일어나는 모든 것을 마법처럼 숨겨준다.  
자동차 튜닝은 이런 운전 핵심기능에 영향을 주지 않는다면 무엇을 하든 괜찮다.

이와 마찬가지로 프로그래밍에서는 다음과 같은 목적으로 추상화를 사용한다.
- 복잡성을 숨기기 위해
- 코드를 체계화하기 위해
- 만드는 사람에게 변화의 자유를 주기 위해
